{"version":3,"file":"modules.min.js","sources":["modules.min.js"],"sourcesContent":["/**\n * @package Uncanny TinCan API\n * @author Uncanny Owl\n * @version 1.0.0\n */\n\nvar tincannyModuleController = function() {\n\tvar $this = this;\n\tthis.count = {};\n\tthis.completion = {};\n\tthis.bound = false;\n\tthis.hasCompletionSetting = false;\n\tthis.markCompleteSettings = '';\n\tthis.markCompleteLesson = 0;\n\tthis.markCompleteCourse = 0;\n\tthis.markCompleteLabel  = '';\n\tthis.currentLessonLink  = '';\n\tthis.methodMarkCompleteForTincan  = 'new';\n    $this.iframe_interval = false;\n\n\tvar moduleFunctions = new tincannyModuleFunctions(this);\n\n\tthis.ready = function() {\n\t\tthis.iFrameReady();\n\t\tthis.lightboxReady();\n\t\tthis.newWindowReady();\n\t\tthis.setButton(false);\n\n\t\tmoduleFunctions.checkH5PCompletiton();\n\t};\n\n\tthis.setButton = function(edgeReload) {\n\n\t    // We are setting display none with styles initial in tin-canny-learndash-reporting\\src\\uncanny-articulate-and-captivate\\classes\\Shortcode.php\n        // Lets reinstate display none before we run checks\n        jQuery( 'form[id=sfwd-mark-complete]' ).css( 'display', 'block' );\n        jQuery( '.sfwd-mark-complete' ).css( 'display', 'block' );\n        jQuery( '.tclr-mark-complete-button' ).css( 'display', 'block' ).addClass( 'tclr-mark-complete-button--visible' );\n\n\t\t// Check if no button needed\n\t\tif( this.markCompleteSettings === 'remove' || this.markCompleteSettings === 'autoadvance' ){\n            jQuery( 'form[id=sfwd-mark-complete]' ).remove();\n            jQuery( '.sfwd-mark-complete' ).remove();\n            return;\n\t\t}\n\n\t\t// Condition : No Module\n\t\tvar is_empty    = true;\n\t\tvar is_complete = false;\n\n\t\tObject.keys( this.count ).forEach( function( key ) {\n\t\t\tif ( $this.count[ key ] !== undefined )\n\t\t\t\tis_empty = false;\n\t\t});\n\n\t\t// Condition : Any Completion\n\t\tObject.keys( $this.count ).forEach( function( key ) {\n\t\t\tif ( $this.count[ key ] > 0 && Object.keys( $this.completion[ key ] ).length > 0 )\n\t\t\t\tis_complete = true;\n\t\t});\n\n        if ( is_empty ) {\n            // Legacy\n            jQuery( '#sfwd-mark-complete input' ).prop( 'disabled', false );\n            jQuery( '#sfwd-mark-complete input' ).removeClass( 'disabled' );\n\n            // 3.0\n            jQuery( '.sfwd-mark-complete input' ).removeAttr( 'disabled' );\n            jQuery( '.sfwd-mark-complete input' ).removeClass( 'disabled' );\n\n            // Hide option\n            if( this.markCompleteSettings == 'hide' ){\n                jQuery( '.tclr-mark-complete-button' ).css( 'display', 'block' ).addClass( 'tclr-mark-complete-button--visible' );\n            }\n        } else if ( is_complete ) {\n            // Legacy\n            jQuery( '#sfwd-mark-complete input' ).prop( 'disabled', false );\n            jQuery( '#sfwd-mark-complete input' ).removeClass( 'disabled' );\n\n            // 3.0\n            jQuery( '.sfwd-mark-complete input' ).prop( 'disabled', false );\n            jQuery( '.sfwd-mark-complete input' ).removeClass( 'disabled' );\n\n            // Hide option\n            if( this.markCompleteSettings == 'hide' ){\n                jQuery( '.tclr-mark-complete-button' ).css( 'display', 'block' ).addClass( 'tclr-mark-complete-button--visible' );\n            }\n\n            tinCanny.doAction( 'after_tincanny_insert_list' );\n\n        } else {\n            // Legacy\n            jQuery( '#sfwd-mark-complete input' ).prop( 'disabled', true );\n            jQuery( '#sfwd-mark-complete input' ).addClass( 'disabled' );\n\n            // 3.0\n            jQuery( '.sfwd-mark-complete input' ).prop( 'disabled', true );\n            jQuery( '.sfwd-mark-complete input' ).addClass( 'disabled' );\n\n            // Hide option\n            if( this.markCompleteSettings == 'hide' ){\n            \tjQuery( '.tclr-mark-complete-button' ).css( 'display', 'none' ).removeClass( 'tclr-mark-complete-button--visible' );\n\t\t\t}\n        }\n\t};\n\n\tthis.iFrameReady = function() {\n\t\tjQuery('.AnC-iFrame').bind('ready load', function() {\n\t\t\tmoduleFunctions.checkStatues(jQuery(this)[0].contentWindow, 'iFrame');\n\t\t});\n\t};\n\n\tthis.lightboxReady = function() {\n\t\tjQuery('body').bind('DOMSubtreeModified', function() {\n\t\t\tjQuery('.nivo-lightbox-item').bind('load', function() {\n\t\t\t\tvar targetURL = jQuery(this)[0].src;\n\n\t\t\t\tif (!jQuery(this).attr('data-tcloaded')) {\n\t\t\t\t\tmoduleFunctions.checkStatues(jQuery(this)[0].contentWindow, 'lightbox');\n\t\t\t\t\tjQuery(this).attr('data-tcloaded', true);\n\t\t\t\t}\n\n                jQuery(jQuery(this)[0].contentWindow).on( \"unload\", function() {\n                    $this.checkCompletion(targetURL, 'Authorization=LearnDashIdstateId=');\n                    /* clearInterval( $this.iframe_interval ); */\n                });\n                /*$this.iframe_interval = setInterval(function () {\n                    $this.checkCompletion(targetURL, 'Authorization=LearnDashIdstateId=');\n                }, 5000);*/\n\t\t\t});\n\t\t});\n\t};\n\n\tthis.newWindowReady = function() {\n\t\tvar bindNewWindow = function(targetWin) {\n\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Ready\" ) );\n\t\t\tif ($this.bound)\n\t\t\t\treturn;\n\n\t\t\tif (\n\t\t\t\t!targetWin.document.getElementsByTagName('meta') ||\n\t\t\t\t!targetWin.document.URL ||\n\t\t\t\ttargetWin.document.URL.indexOf('uncanny-snc') == -1\n\t\t\t) {\n\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Not Ready\" ) );\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tbindNewWindow(targetWin);\n\t\t\t\t}, 500);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmoduleFunctions.checkStatues( targetWin, 'blank' );\n\t\t};\n\n\t\tjQuery('.AnC-Link').click(function(e) {\n\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Click\" ) );\n\n\t\t\tif (jQuery(this).attr('target') == '_blank' ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar url = jQuery(this).attr('href');\n\n\t\t\t\tif (window.popup) {\n\t\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Close\" ) );\n\t\t\t\t\twindow.popup.close();\n\t\t\t\t}\n\n\t\t\t\twindow.popup = open(url, 'AnC');\n\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Open\" ) );\n\n                jQuery(window.popup.document).ready(function() {\n                    // jQuery( \"body\" ).append( document.createTextNode( \", Doc Ready\" ) );\n                    $this.bound = false;\n                    // Removed immediate call and wait for a redirect completion.\n\t\t\t\t\t// bindNewWindow(window.popup);\n                    setTimeout(function() {\n                        bindNewWindow(window.popup);\n                    }, 5000);\n                });\n\n                /* This will not work in some browsers so removed.\n                window.popup.onbeforeunload = function(e) {\n                    // check condition\n                    setTimeout(function() {\n                        bindNewWindow(window.popup);\n                    }, 5000);\n                    return null;\n                };*/\n\n                window.onbeforeunload = function(e){\n                    if (window.popup) {\n                        window.popup.close();\n                    }\n                };\n\n\t\t\t\tif (\n\t\t\t\t\twindow.navigator.userAgent.indexOf(\"Edge\") >= 0 ||\n\t\t\t\t\twindow.navigator.userAgent.indexOf(\"MSIE\") >= 0 ||\n\t\t\t\t\twindow.navigator.userAgent.indexOf(\"Trident\") >= 0\n\t\t\t\t) {\n\t\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Hello\" ) );\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\twindow.popup.onbeforeunload = function() {\n\t\t\t\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Bye\" ) );\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t};\n\t\t\t\t\t}, 1500);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n    this.replaceRequest = function( targetWin, targetURL, contentType ) {\n\n    };\n\n\tthis.replaceRequest = function( targetWin, targetURL, contentType ) {\n\n\t\tif( this.methodMarkCompleteForTincan == 'old' ) {\n            targetWin.XMLHttpRequest.prototype.oldSend = targetWin.XMLHttpRequest.prototype.send;\n\n            var newSend = function( statement ) {\n                this.oldSend(statement);\n\n                try {\n                    $this.checkCompletion(targetURL, statement);\n                } catch(err) {}\n            };\n\n            targetWin.XMLHttpRequest.prototype.send = newSend;\n\t\t} else {\n\n            targetWin.XMLHttpRequest.prototype.oldSend = targetWin.XMLHttpRequest.prototype.send;\n\n            var newSend = function (statement) {\n                this.oldSend(statement);\n\n                try {\n\n                    //$this.checkCompletion(targetURL, statement);\n                    var oldOnReadyStateChange = this.onreadystatechange;\n                    var self = this;\n\n                    function onReadyStateChange() {\n\n                        // however run actual callback first.\n                        if (oldOnReadyStateChange) {\n                            oldOnReadyStateChange();\n                        }\n                        // Now check if its a completed call\n                        if (self.readyState == 4) {\n                            // Check if this is a statement call\n                            var contentType = moduleFunctions.getContentType(targetURL);\n                            var stop = true;\n                            var regEx = /\\/uncanny-snc\\/([0-9]+)\\//;\n                            var idResult = regEx.exec(targetURL);\n                            var id = parseInt(idResult[1]);\n                            // if response is not what we expected on completion\n                            // for this I am changing in recording statement function\n\n                            if (!self.response) {\n                                return false;\n                            }\n                            if (self.response.toString().indexOf('completion_matched') == -1 && self.response.toString().indexOf('189c3d30-COMP-491a-85ab-1f00c84e651f') == -1) {\n                                return false;\n                            }\n\n                            if (statement.indexOf('Authorization=LearnDashId') >= -1 && statement.indexOf('stateId=') >= -1) {\n                                stop = false;\n                            } else {\n                                var json = JSON.parse(statement);\n\n                                if (typeof json === 'object')\n                                    stop = false;\n                            }\n\n                            if ($this.completion[contentType][id])\n                                stop = true;\n\n                            if (stop)\n                                return;\n\n                            if ($this.markCompleteSettings === 'autoadvance') {\n                                response = JSON.parse(self.response);\n                                if (typeof response.redirect_to !== 'undefined')\n                                    window.location.href = response.redirect_to;\n                                else\n                                    window.location.reload();\n                            }\n                            $this.markComplete(contentType, targetURL);\n                        }\n                    }\n\n                    if (!this.noIntercept) {\n                        if (this.addEventListener) {\n                            oldOnReadyStateChange = null;\n                            this.addEventListener(\"readystatechange\", onReadyStateChange, false);\n                        } else {\n                            oldOnReadyStateChange = this.onreadystatechange;\n                            this.onreadystatechange = onReadyStateChange;\n                        }\n                    }\n\n                } catch (err) {\n                }\n            };\n\n            targetWin.XMLHttpRequest.prototype.send = newSend;\n        }\n\t};\n\n\tthis.checkCompletion = function (targetURL, statement) {\n\t\tvar contentType = moduleFunctions.getContentType(targetURL);\n\n\t\tvar stop = true;\n\t\tvar regEx = /\\/uncanny-snc\\/([0-9]+)\\//;\n\t\tvar idResult = regEx.exec(targetURL);\n\t\tvar id = parseInt(idResult[1]);\n\n\n\t\tif (statement.indexOf('Authorization=LearnDashId') >= -1 && statement.indexOf('stateId=') >= -1) {\n\t\t\tstop = false;\n\t\t} else {\n\t\t\tvar json = JSON.parse(statement);\n\n\t\t\tif (typeof json === 'object')\n\t\t\t\tstop = false;\n\t\t}\n\n\t\tif ($this.completion[contentType][id])\n\t\t\tstop = true;\n\n\t\tif (stop)\n\t\t\treturn;\n\n\t\tvar data = {\n\t\t\t'action': 'Check ' + contentType + ' Completion',\n\t\t\t'URL': targetURL,\n            'course_id': this.markCompleteCourse,\n            'lesson_id': this.markCompleteLesson,\n            'setting_option': this.markCompleteSettings,\n            'lesson_link': this.currentLessonLink,\n            'contentType': contentType\n\t\t};\n\n\t\t// Check Completion\n\t\tjQuery.post( wp_ajax_url, data, function( response ) {\n\t\t\tif ( response ) {\n                if ( $this.markCompleteSettings === 'autoadvance') {\n                    response = JSON.parse(response);\n                \twindow.location.href = response.redirect_to;\n\t\t\t\t}\n\t\t\t\t$this.markComplete( contentType, targetURL );\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.markComplete = function( contentType, targetURL ) {\n\t\tvar patternModuleId = /uncanny-snc\\/([0-9]+)\\//i;\n\t\tvar resultModuleId = patternModuleId.exec(targetURL);\n\n\t\tif ( resultModuleId[1] ) {\n\t\t\tthis.completion[ contentType ][ resultModuleId[1] ] = true;\n\t\t\tthis.setButton(true);\n            $this.markCompleted( contentType );\n\t\t}\n\t};\n\n    this.markCompleted = function (contentType) {\n        if ( this.markCompleteSettings === 'remove' || this.markCompleteSettings === 'autoadvance') {\n            var data = {\n                'action': 'uncanny-snc-mark-completed',\n                'course_id': this.markCompleteCourse,\n                'lesson_id': this.markCompleteLesson,\n                'setting_option': this.markCompleteSettings,\n\t\t\t\t'lesson_link': this.currentLessonLink,\n                'contentType': contentType\n            };\n\n            // Check Completion\n            jQuery.post(wp_ajax_url, data, function (response) {\n                if (response) {\n                \tif( typeof( response.redirect_to ) !== 'undefined' ) {\n                \t\twindow.location.href = response.redirect_to;\n                \t}\n                }\n            }, 'json' );\n        }\n    };\n};\n\nvar tincannyModuleFunctions = function(moduleController) {\n\tvar $this = this;\n\tvar captivateFunctions = new tincannyCaptivateFunctions();\n\tvar storylineFunctions = new tincannyStorylineFunctions(moduleController);\n\n\tthis.checkStatues = function( targetWin, openMethod ) {\n\t\tvar targetURL = targetWin.document.URL;\n\t\tvar contentsType = this.getContentType(targetURL);\n\n\t\t// Captivate\n\t\tif ( contentsType === 'Captivate' ) {\n\t\t\tthis.processCaptivate( targetWin, targetURL, openMethod );\n\t\t\treturn;\n\n\t\t// iSpring\n\t\t} else if ( contentsType === 'iSpring' ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'iSpring' );\n\t\t\treturn;\n\n\t\t// Articulate Rise\n\t\t} else if ( contentsType === 'ArticulateRise' ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'ArticulateRise' );\n\t\t\treturn;\n            /* add Presenter360 tin can format */\n        } else if ( contentsType === 'Presenter360' ) {\n            moduleController.replaceRequest( targetWin, targetURL, 'Presenter360' );\n            return;\n            /* END Presenter360 */\n            /* add Lectora tin can format */\n\t\t} else if ( contentsType === 'Lectora' ) {\n            moduleController.replaceRequest( targetWin, targetURL, 'Lectora' );\n            return;\n            /* END Lectora */\n\t\t} else if ( contentsType === 'Scorm' ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'Scorm' );\n\t\t\treturn;\n\t\t\t/* END Scorm */\n\t\t} else if ( contentsType === 'Tincan' ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'Tincan' );\n\t\t\treturn;\n\t\t\t/* END Scorm */\n\t\t}\n\n\t\t// Storyline : Replace Function\n\t\tif ( targetWin.OnSendComplete ) {\n\t\t\ttargetWin.OnSendComplete = function( commObj ) {\n\t\t\t\tstorylineFunctions.OnSendComplete(targetWin, commObj);\n\t\t\t};\n\n\t\t} else {\n\t\t\tmoduleController.replaceRequest(targetWin, targetURL, 'Storyline');\n\t\t}\n\t};\n\n\tthis.getContentType = function(targetURL) {\n\t\tif ( targetURL.indexOf('Captivate') >= 0 ) {\n\t\t\treturn 'Captivate';\n\t\t} else if ( targetURL.indexOf('/res/') >= 0 ) {\n\t\t\treturn 'iSpring';\n\t\t} else if ( targetURL.indexOf('ArticulateRise') >= 0 ) {\n\t\t\treturn 'ArticulateRise';\n\t\t} else if ( targetURL.indexOf('ArticulateRise2017') >= 0 || targetURL.indexOf('AR2017') >= 0 ) {\n\t\t\treturn 'ArticulateRise2017';\n            /* add Presenter360 tin can format */\n        } else if ( targetURL.indexOf('Presenter360') >= 0 ) {\n            return 'Presenter360';\n            /* END Presenter360 */\n\t\t\t/* add Lectora tin can format */\n    \t} else if ( targetURL.indexOf('Lectora') >= 0 ) {\n        \treturn 'Lectora';\n        \t/* END Lectora */\n\t\t} else if ( targetURL.indexOf('Scorm') >= 0 ) {\n\t\t\treturn 'Scorm';\n\t\t\t/* END Scorm */\n\t\t} else if ( targetURL.indexOf('Tincan') >= 0 ) {\n\t\t\treturn 'Tincan';\n\t\t\t/* END Scorm */\n\t\t}\n\n\t\treturn 'Storyline';\n\t};\n\n\tthis.processCaptivate = function( targetWin, targetURL, openMethod ) {\n\t\tvar frame;\n\n\t\tif ( targetURL.indexOf('multiscreen.html') >= 0 ) {\n\t\t\tframe = jQuery(targetWin.document)[0].getElementsByTagName('frame')[0];\n\n\t\t\tif ( frame.contentWindow.DoCPExit ) {\n\t\t\t\tmoduleController.replaceRequest( frame.contentWindow, targetURL, 'Captivate' );\n\n\t\t\t\tframe.contentWindow.DoCPExit = function() {\n\t\t\t\t\tcaptivateFunctions.DoCPExit( window, openMethod );\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tjQuery(frame).on( 'load ready', function() {\n\t\t\t\tmoduleController.replaceRequest( jQuery(this)[0].contentWindow, targetURL, 'Captivate' );\n\n\t\t\t\tjQuery(this)[0].contentWindow.DoCPExit = function() {\n\t\t\t\t\tcaptivateFunctions.DoCPExit( window, openMethod );\n\t\t\t\t};\n\t\t\t});\n\n\t\t// Captivate Normal : index_TINCAN.html\n\t\t} else if ( targetURL.indexOf('index_TINCAN.html') >= 0 ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'Captivate' );\n\n\t\t\ttargetWin.initializeCP = function() {\n\t\t\t\tcaptivateFunctions.initializeCP( window, targetWin );\n\t\t\t};\n\n\t\t// Captivate From SCORM\n\t\t} else {\n\t\t\tframe = jQuery( targetWin );\n\n\t\t\tjQuery(frame).ready( function() {\n\t\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'Captivate' );\n\n\t\t\t\ttargetWin.DoCPExit = function() {\n\t\t\t\t\tcaptivateFunctions.DoCPExit( window, openMethod );\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.checkH5PCompletiton = function() {\n\t\tif (!moduleController || !moduleController.count || moduleController.count.H5P <= 0)\n\t\t\treturn;\n\n\t\t// Detect Ajax Completion\n\t\tjQuery(document).ajaxComplete(function( event, xhr, settings ) {\n\t\t\t// Detect H5P xAPI\n\t\t\tif (settings.url === WP_H5P_XAPI_STATEMENT_URL) {\n\t\t\t\t// Get Verb\n\t\t\t\tvar verb = settings.data.match(/http%3A%2F%2Fadlnet.gov%2Fexpapi%2Fverbs%2F([a-z]+)/);\n\n\t\t\t\teval(unescape(settings.data));\n\t\t\t\tvar id = statement.object.definition.extensions['http://h5p.org/x-api/h5p-local-content-id'];\n\n\t\t\t\tif (!moduleController.hasCompletionSetting) {\n\t\t\t\t\tmoduleController.completion.H5P[ id ] = true;\n\t\t\t\t\tmoduleController.setButton(true);\n                    moduleController.markCompleted( 'H5P' );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( xhr.responseJSON.message == 'true' ) {\n\t\t\t\t\tmoduleController.completion.H5P[ id ] = true;\n\t\t\t\t\tmoduleController.setButton(true);\n                    moduleController.markCompleted( 'H5P' );\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n};\n\nvar tincannyCaptivateFunctions = function() {\n\tvar $this = this;\n\n\tthis.initializeCP = function( win, targetWin ) {\n\t\tif( targetWin.initialized )\n\t\t\treturn;\n\n\t\ttargetWin.initCalled = true ;\n\n\t\tif( targetWin.cp && targetWin.cp.pg && targetWin.deviceReady === false)\n\t\t\treturn;\n\n\t\ttargetWin.cpInit = function() {\n\t\t\ttargetWin.document.body.innerHTML = \" <div class='cpMainContainer' id='cpDocument' style='left: 0px; top:0px;' >\t<div id='main_container' style='top:0px;position:absolute;width:100%;height:100%;'>\t<div id='projectBorder' style='top:0px;left:0px;width:100%;height:100%;position:absolute;display:block'></div>\t<div class='shadow' id='project_container' style='left: 0px; top:0px;width:100%;height:100%;position:absolute;overflow:hidden;' >\t<div id='project' class='cp-movie' style='width:100% ;height:100%;overflow:hidden;'>\t\t<div id='project_main' class='cp-timeline cp-main'>\t\t\t<div id='div_Slide' onclick='cp.handleClick(event)' style='top:0px; width:100% ;height:100% ;position:absolute;-webkit-tap-highlight-color: rgba(0,0,0,0);'></div>\t\t\t<canvas id='slide_transition_canvas'></canvas>\t\t</div>\t\t<div id='autoplayDiv' style='display:block;text-align:center;position:absolute;left:0px;top:0px;'>\t\t\t<img id='autoplayImage' src='' style='position:absolute;display:block;vertical-align:middle;'/>\t\t\t<div id='playImage' tabindex='9999' role='button' aria-label='play' onkeydown='cp.CPPlayButtonHandle(event)' onClick='cp.movie.play()' style='position:absolute;display:block;vertical-align:middle;'></div>\t\t</div>\t</div>\t<div id='toc' style='left:0px;position:absolute;-webkit-tap-highlight-color: rgba(0,0,0,0);'>\t</div>\t<div id='playbar' style='bottom:0px; position:fixed'>\t</div>\t<div id='cc' style='left:0px; position:fixed;visibility:hidden;pointer-events:none;' onclick='cp.handleCCClick(event)'>\t\t<div id='ccText' style='left:0px;float:left;position:absolute;width:100%;height:100%;'>\t\t<p style='margin-left:8px;margin-right:8px;margin-top:2px;'>\t\t</p>\t\t</div>\t\t<div id='ccClose' style='background-image:url(./assets/htmlimages/ccClose.png);right:10px; position:absolute;cursor:pointer;width:13px;height:11px;' onclick='cp.showHideCC()'>\t\t</div>\t</div>\t<div id='gestureIcon' class='gestureIcon'>\t</div>\t<div id='gestureHint' class='gestureHintDiv'>\t\t<div id='gImage' class='gesturesHint'></div>\t</div>\t<div id='pwdv' style='display:block;text-align:center;position:absolute;width:100%;height:100%;left:0px;top:0px'></div>\t<div id='exdv' style='display:block;text-align:center;position:absolute;width:100%;height:100%;left:0px;top:0px'></div>\t</div>\t</div></div><div id='blockUserInteraction' class='blocker' style='width:100%;height:100%;'>\t<table style='width:100%;height:100%;text-align:center;vertical-align:middle' id='loading' class='loadingBackground'>\t\t<tr style='width:100%;height:100%;text-align:center;vertical-align:middle'>\t\t\t<td style='width:100%;height:100%;text-align:center;vertical-align:middle'>\t\t\t\t<image id='preloaderImage'></image>\t\t\t\t<div id='loadingString' class='loadingString'>Loading...</div>\t\t\t</td>\t\t</tr>\t</table></div> <div id='initialLoading'></div>\";\n\n\t\t\ttargetWin.cp.DoCPInit();\n\t\t\ttargetWin.lCpExit = targetWin.DoCPExit;\n\n\t\t\ttargetWinDoCPExit = function() {\n\t\t\t\tif ( openMethod == 'iFrame' )\n\t\t\t\t\treturn;\n\n\t\t\t\tif ( openMethod == 'lightbox' ) {\n\t\t\t\t\t$this.closeOverlay( win );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif( targetWin.cp.UnloadActivties)\n\t\t\t\t\ttargetWin.cp.UnloadActivties();\n\n\t\t\t\ttargetWin.lCpExit();\n\t\t\t};\n\t\t};\n\n\t\ttargetWin.cpInit();\n\t\ttargetWin.initialized = true;\n\t};\n\n\tthis.DoCPExit = function( win, openMethod ) {\n\t\tif ( openMethod == 'iFrame' )\n\t\t\treturn;\n\n\t\tvar win_;\n\n\t\tif( win != win.parent && win.parent && win.parent.DoCPExit !== undefined ) {\n\t\t\twin.parent.DoCPExit();\n\n\t\t} else {\n\t\t\tif( win.top == self ) {\n\t\t\t\twin_ = win.open(\"\",\"_self\");\n\t\t\t\t$this.closeWindow( win_, openMethod );\n\n\t\t\t} else {\n\t\t\t\twin_ = win.top.open(\"\",\"_self\");\n\t\t\t\t$this.closeWindow( win_.top, openMethod );\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.closeWindow = function( win, openMethod ) {\n\t\tif ( openMethod == 'lightbox' ) {\n\t\t\t$this.closeOverlay( win );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( window.popup )\n\t\t\twindow.popup.close();\n\t\telse\n\t\t\twin.close();\n\t};\n\n\tthis.closeOverlay = function( win ) {\n\t\tvar elements = win.document.getElementsByClassName(\"nivo-lightbox-overlay\");\n\t\twhile(elements.length > 0){\n\t\t\telements[0].parentNode.removeChild(elements[0]);\n\t\t}\n\t};\n};\n\nvar tincannyStorylineFunctions = function(moduleController) {\n\tthis.OnSendComplete = function(targetWin, commObj) {\n\t\tif (commObj.MessageType == targetWin.TYPE_RESUME_RESTORE) {\n\t\t\ttargetWin.GetPlayer().SetTinCanResume(commObj.responseText);\n\t\t}\n\n\t\ttargetWin.g_bWaitingTinCanResponse = false;\n\t\ttargetWin.g_oCurrentRequest = null;\n\n\t\tif ( targetWin.g_arrTinCanMsgQueue.length > 0 && !targetWin.g_bStopPosting ) {\n\t\t\tvar test = targetWin.SendRequest(targetWin.g_arrTinCanMsgQueue.shift());\n\t\t}\n\n\t\tmoduleController.checkCompletion(jQuery(targetWin.document).context.URL, commObj.responseText);\n\t};\n};\n\nvar moduleController = new tincannyModuleController();\n\n/*\njQuery(document).ready(function() {\n\t// jQuery( \"body\" ).append( document.createTextNode( \"Global Ready\" ) );\n\n});\n*/\n"],"names":["tincannyModuleController","$this","this","count","completion","bound","hasCompletionSetting","markCompleteSettings","markCompleteLesson","markCompleteCourse","markCompleteLabel","currentLessonLink","methodMarkCompleteForTincan","iframe_interval","moduleFunctions","tincannyModuleFunctions","ready","iFrameReady","lightboxReady","newWindowReady","setButton","checkH5PCompletiton","edgeReload","jQuery","css","addClass","remove","is_empty","is_complete","Object","keys","forEach","key","undefined","length","prop","removeClass","removeAttr","tinCanny","doAction","bind","checkStatues","contentWindow","targetURL","src","attr","on","checkCompletion","bindNewWindow","targetWin","document","getElementsByTagName","URL","indexOf","setTimeout","click","e","preventDefault","url","window","popup","close","open","onbeforeunload","navigator","userAgent","location","reload","replaceRequest","contentType","newSend","XMLHttpRequest","prototype","oldSend","send","statement","err","oldOnReadyStateChange","onreadystatechange","self","onReadyStateChange","readyState","getContentType","stop","idResult","exec","id","parseInt","response","toString","JSON","parse","redirect_to","href","markComplete","noIntercept","addEventListener","data","action","course_id","lesson_id","setting_option","lesson_link","post","wp_ajax_url","resultModuleId","markCompleted","moduleController","captivateFunctions","tincannyCaptivateFunctions","storylineFunctions","tincannyStorylineFunctions","openMethod","contentsType","OnSendComplete","commObj","processCaptivate","frame","DoCPExit","initializeCP","H5P","ajaxComplete","event","xhr","settings","WP_H5P_XAPI_STATEMENT_URL","verb","match","eval","unescape","object","definition","extensions","responseJSON","message","win","initialized","initCalled","cp","pg","deviceReady","cpInit","body","innerHTML","DoCPInit","lCpExit","targetWinDoCPExit","UnloadActivties","closeOverlay","win_","parent","top","closeWindow","elements","getElementsByClassName","parentNode","removeChild","MessageType","TYPE_RESUME_RESTORE","GetPlayer","SetTinCanResume","responseText","g_bWaitingTinCanResponse","g_oCurrentRequest","g_arrTinCanMsgQueue","g_bStopPosting","SendRequest","shift","context"],"mappings":"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"}